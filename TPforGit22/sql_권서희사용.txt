drop sequence st_num_seq;
drop sequence tc_num_seq;
drop sequence rv_num_seq;
drop sequence sg_num_seq;
drop table tpReview;
drop table tpSugang;
drop table tpStudent;
drop table tpTeacher;


create table tpStudent(
    st_num      number          not null
    ,st_id      varchar2(20)    primary key  
    ,st_pw      varchar2(30)    not null
    ,st_gender  CHAR            not null
    ,st_age     number          not null
    ,st_phone   varchar2(50)    not null
    ,st_loc     varchar2(100)   not null
    ,st_lan1    varchar2(10)    not null
    ,st_lan2    varchar2(10)
    ,st_lan3    varchar2(10)
    ,st_avg     number(2,1)
);


create table tpTeacher(
    tc_num          number          not null
    ,tc_id          varchar2(20)    primary key
    ,tc_pw          varchar2(30)    not null
    ,tc_gender      CHAR            not null
    ,tc_age         number          not null
    ,tc_teachLan    varchar2(10)    not null
    ,tc_lan1        varchar2(10)    not null
    ,tc_lan2        varchar2(10)
    ,tc_lan3        varchar2(10)
    ,tc_phone       varchar2(50)    not null
    ,tc_loc         varchar2(100)   not null
    ,tc_pic         varchar2(100)           not null
    ,tc_intro       varchar2(300)   
    ,tc_price       number          not null
    ,tc_req         number(1) 	default 0  
    ,tc_avg         number(2,1)
);


create table tpReview(
    rv_num          number          primary key
    ,rv_target      varchar2(20)    references tpTeacher(tc_id)
    ,rv_sender      varchar2(20)    references tpStudent(st_id)
    ,rv_star        number          not null
    ,rv_review      varchar2(300)   
);



create table tpSugang(
    sg_num          number          primary key
    ,sg_teacher     varchar2(20)    references tpTeacher(tc_id)
    ,sg_student     varchar2(20)    references tpStudent(st_id)
    ,sg_date        date            default sysdate
    ,sg_accept      number(1)       default 0
);


create sequence st_num_seq;
create sequence tc_num_seq;
create sequence rv_num_seq;
create sequence sg_num_seq;



insert into tpStudent(
     st_num     
    ,st_id     
    ,st_pw     
    ,st_gender  
    ,st_age     
    ,st_phone  
    ,st_loc     
    ,st_lan1   
    ,st_lan2    
    ,st_lan3   
    ,st_avg     
)values(
     st_num_seq.nextval
    ,'momo'
    ,'1234'
    ,'m'
    ,18
    ,'010-1234-5678'
    ,'서울특별시 강남구 삼성1동 영동대로 508'
    ,'eng'
    ,'japan'
    ,'kr'
    ,5
    );

insert into tpTeacher(
    tc_num         
    ,tc_id          
    ,tc_pw        
    ,tc_gender      
    ,tc_age        
    ,tc_teachLan    
    ,tc_lan1       
    ,tc_lan2     
    ,tc_lan3       
    ,tc_phone      
    ,tc_loc        
    ,tc_pic        
    ,tc_intro    
    ,tc_price               
    ,tc_avg         
)values(
    tc_num_seq.nextval
    ,'mosi'
    ,'12345'
    ,'f'
    ,'20'
    ,'eng'
    ,'eng'
    ,'japan'
    ,'kr'
    ,'010-1111-1111'
    ,'서울특별시 강남구 삼성동 168 21번지'
    ,'abc.png'
    ,'hello this is mosi'
    ,10000
    ,5
);

insert into tpSugang(
	sg_num
	,sg_teacher
	,sg_student
)values(
	sg_num_seq.nextval
	,'mosi'
	,'momo'	
);

insert into tpReview(
	rv_num
	,rv_target
	,rv_sender
	,rv_star
	,rv_review
)values(
	rv_num_seq.nextval
	,'momo'
	,'mosi'
	,5
	,'좋은 학생'
);

commit;